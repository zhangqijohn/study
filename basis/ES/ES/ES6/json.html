<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

promise


<script src="https://css.ssl.q1.com/jquery/jquery-1.11.1.min.js?v=1"></script>

<script>

    //异步写法 ES5
//    ajax("banners",function(banner_date){
//        ajax("hotItems",function(hotItems_date){
//            ajax("/sliders1",function(sliders1_date){
//                ajax("/sliders2",function(sliders2_date){
//                    //dosomethings...
//                },function(err){
//                    alert(err)
//                });
//            },function(err){
//                alert(err)
//            });
//        },function(err){
//            alert(err)
//        });
//    },function(err){
//        alert(err)
//    });


    let p = new Promise(function(resolve,reject){
        //异步代码
        //resolve 成功
        //reject 失败

        $.ajax({
            url:"json/arr.txt",
            dataType:"json",
            success(arr){
                resolve(arr);
            },
            error(err){
                reject(err);
            }
        })


    })

    p.then(function(){
            alert(1)
        },function(){
        alert(err)
    })




</script>


</body>
</html>