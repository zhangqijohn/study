<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>v-for</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.7/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
</head>
<body>
<div id="app">
    <el-button type="primary" @click="handleClick1">数据1</el-button>
    <el-button type="primary" @click="handleClick2">数据2</el-button>

        <el-table
            :data="tableData"
            style="width: 100%"
        >
            <el-table-column
                    :prop="item"
                    :label="item"
                    v-for="item in tableHeader"
            ></el-table-column>
        </el-table>


</div>
<script>
var arr1 = [{
        date: '2016-05-02',
        name: '王小虎0'
    }, {
        date: '2016-05-04',
        name: '王小虎1'
    }, {
        date: '2016-05-01',
        name: '王小虎2'
    }, {
        date: '2016-05-03',
        name: '王小虎3'
    }]
var arr2 = [{
    date: '2016-05-02',
    name: '王小虎',
    address: '上海市普陀区金沙江路 1518 弄'
}, {
    date: '2016-05-04',
    name: '王小虎',
    address: '上海市普陀区金沙江路 1517 弄'
}, {
    date: '2016-05-01',
    name: '王小虎',
    address: '上海市普陀区金沙江路 1519 弄'
}, {
    date: '2016-05-03',
    name: '王小虎',
    address: '上海市普陀区金沙江路 1516 弄'
}]

var app = new Vue({
    el: '#app',
    data() {
        return {
            tableHeader:[],
            tableData: []
        }
    },
    created () {
        this.tableData = arr1
        this.changeTableHeader()
    },
    methods: {
        //  语种选择
        handleClick1 (value) {
            this.tableData = arr1
            this.changeTableHeader()
        },
        handleClick2 (value) {
            this.tableData = arr2
            this.changeTableHeader()
        },
        changeTableHeader() {
            let value = JSON.parse(JSON.stringify(this.tableData))
            if(value.length !==0 ){
                this.tableHeader = Object.keys(value[0])
            }
        },
    },

})
</script>


</body>
</html>
